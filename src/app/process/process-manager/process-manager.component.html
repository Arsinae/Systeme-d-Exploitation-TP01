<div class="mainTitle">Gestions des processus</div>

<div class="processContainer">
  <rd-tabs-group>
    <rd-tabs *ngFor="let process of processes; let processIndex = index" [title]="'Processus n°' + process.id">
      <div class="processContent">
        <div class="processParam">
          <div class="title"><span>Paramètres</span></div>
          <div class="params">
              <div><rd-input-number [label]="'Moment d arrivée'" [min]="1" [(value)]="process.arrivedTime"></rd-input-number></div>
              <div><rd-input-number [label]="'Priorité'" [min]="1" [(value)]="process.priority"></rd-input-number></div>
              <div><rd-input-number [label]="'Nombre de threads'" [min]="1" [max]="1" [(value)]="process.threadNumber"></rd-input-number></div>
            </div>
        </div>
        <div class="processInstruction">
          <div class="title"><span>Instructions</span></div>
            <div class="instructions" *ngFor="let instruction of process.instructions; let i = index">
              <span>Instruction n°{{i+1}} :</span>
              <rd-radio-button [display]="'block'" [value]="instruction.type" (valueChange)="changeType($event, process, i)">
                <rd-radio-button-option [value]="'calcul'">Calcul</rd-radio-button-option>
                <rd-radio-button-option [value]="'inOut'">Entrée / Sortie</rd-radio-button-option>
              </rd-radio-button>
              <span class="deleteIcon" *ngIf="process.instructions.length !== 1" (click)="deleteInstruction(process, i)">
                <i class="fas fa-trash"></i>
              </span>
            </div>
            <div class="addInstruction">
              <rd-button [color]="'blue-light'" (buttonClick)="addInstruction(process)">Ajouter une Instruction</rd-button>
            </div>
        </div>
        <span class="deleteIcon" *ngIf="processes.length > 1" (click)="deleteProcess(processIndex)">
          <i class="fas fa-trash"></i>
        </span>
      </div>
    </rd-tabs>
  </rd-tabs-group>
  <div class="addProcessButton">
    <rd-button [color]="'gradient-blue'" (buttonClick)="addProcess()">Ajouter un Processus</rd-button>
  </div>
  <app-process-representation [processes]="processes"></app-process-representation>
</div>
